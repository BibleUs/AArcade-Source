<html>
	<head>
		<link rel="stylesheet" type="text/css" href="asset://ui/hud.css"></link>
		<script src="asset://ui/hud.js"></script>
	</head>
	<body>
		<div class="hudHeaderContainer">
			<div class="hudHeaderRow">
				<div class="hudHeaderCell" style="text-align: left;">
					<div class="hudHeaderButtonContainer">
						<div class="hudHeaderButton helpNote" help="Return to Anarchy Arcade." onclick="aaapi.system.deactivateInputMode();">
							<img src="asset://ui/return.png" /> Return
						</div>
					</div>
					<div class="hudHeaderButtonContainer">
						<div class="hudHeaderButton helpNote" help="Go back to the previous menu." onclick="window.location='asset://ui/welcome.html';">
							<img src="asset://ui/backarrow.png" /> Back
						</div>
					</div>
				</div>
				<div class="hudHeaderCell">
					<div>
						Play
					</div>
				</div>
				<div class="hudHeaderCell" style="text-align: right;">
					<div class="hudHeaderButtonContainer">
						<div class="hudHeaderButton helpNote" help="Enable menu input." onclick="aaapi.system.forceInputMode();">
							Input&nbsp;&nbsp;<img src="asset://ui/inputicon.png" />
						</div>
					</div>
				</div>
			</div>
		</div>

		<br />

		<div id="mapsContainer"></div>

		<a href="javascript:location.reload();" class="devReload">Reload</a>

		<script>
			var mapsContainer = document.querySelector("#mapsContainer");

			var screenshots = aaapi.system.detectAllMapScreenshots();
			var maps = aaapi.system.getAllMaps();

			var count = 0;
			var x, mapName, mapContainer, mapImage, mapTitle, mapTitleNode;
			for( x in maps )
			{
				mapName = maps[x].platforms[arcadeHud.platformId].file;
				mapName = mapName.substring(0, mapName.length-4);

				mapContainer = document.createElement("div");
				mapContainer.className = "mapThumbContainer";
				mapContainer.map = maps[x];
				mapContainer.addEventListener("click", function(e)
				{
					aaapi.system.deactivateInputMode();
					aaapi.system.loadMap(this.map.info.id);
				}.bind(mapContainer), true);

				mapImage = document.createElement("img");
				if( !!screenshots[mapName] )
					mapImage.src = "asset://screenshots/" + screenshots[mapName];
				else
					mapImage.src = "asset://ui/map.jpg";

				mapContainer.appendChild(mapImage);

				mapTitle = document.createElement("div");
				mapTitleNode = document.createTextNode(maps[x].title);

				mapTitle.appendChild(mapTitleNode);
				mapContainer.appendChild(mapTitle);

				mapsContainer.appendChild(mapContainer);
				count++;
			}
		</script>
	</body>
</html>