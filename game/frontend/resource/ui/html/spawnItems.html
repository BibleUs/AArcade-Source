<html>
	<head>
		<link rel="stylesheet" type="text/css" href="asset://ui/hud.css"></link>
		<script src="asset://ui/hud.js"></script>
		
		<style>
		/*
		body
			{
				background-color: rgba(0, 0, 0, 0);
				opacity: 0;
				color: #fff;
				overflow: hidden;
				font-size: 20px;
			}
		*/
		</style>
	</head>
	<body>
		<div class="hudHeaderContainer" style="visibility: hidden;">
			<div class="hudHeaderNavigationContainer">
				helloo world
			</div>
			<div class="hudHeaderContainerTable">
				<div class="hudHeaderContainerRow">
					<div class="hudHeaderContainerCell">
					</div>
					<div class="hudHeaderContainerCell">
						<div class="hudHeaderButtonContainer">
							<div class="hudHeaderButton hudHeaderButtonOn helpNote" help="Expand the address bar." onclick="arcadeHud.expandAddressMenu();">
								AArcade
							</div>
						</div>
					</div>
					<div class="hudHeaderContainerCell">
						<div class="hudHeaderButtonContainer">
							<div class="hudHeaderButton hudHeaderButtonOn helpNote" help="Hide the main menu." onclick="window.location='asset://ui/blank.html';">
								&nbsp;<img src="asset://ui/menuicon.png" />&nbsp;
							</div>
						</div>
						<div id="returnHudButton" class="hudHeaderButtonContainer" style="right: 20%;">
							<div class="hudHeaderButton hudHeaderButtonOn helpNote" help="Unpin & close the HUD." onclick="aaapi.system.deactivateInputMode();">
								&nbsp;<img src="asset://ui/pinicon.png" />&nbsp;
							</div>
						</div>
						<div id="pinHudButton" class="hudHeaderButtonContainer" style="right: 20%;">
							<div class="hudHeaderButton helpNote" help="Pin the HUD to stay open." onclick="aaapi.system.forceInputMode(); arcadeHud.pinHudButtonElem.style.display = 'none'; arcadeHud.returnHudButtonElem.style.display = 'inline-block';">
								&nbsp;<img src="asset://ui/pinicon.png" />&nbsp;
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="hudContent" style="width: 34%; position: fixed; left: 0; right: 0; top: 50%; -webkit-transform: translate(0, -50%);">
			<div class="hudContentHeader">
				<div class="hudContentHeaderRow">
					<div class="hudContentHeaderCell">
						
					</div>
					<div class="hudContentHeaderCell" id="contentTitle">
						Spawning Nearby Objects
					</div>
					<div class="hudContentHeaderCell">
						
					</div>
				</div>
			</div>

			<div class="mainButton" id="spawnInstead">Spawn <u>ALL</u> Objects Instead</div>
		</div>

<!--		<div class="backButton">Back</div> -->
		<a href="javascript:location.reload();" class="devReload">&bull;&nbsp;</a>
		<script>
// http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript
function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}
		document.body.querySelector("#spawnInstead").addEventListener("mousedown", function()
		{
 			spawnAll();
		}, true);

		var didSpawnAll = false;
		document.addEventListener("keydown", function(e)
		{
			if( didSpawnAll )
				return;

			// FIXME: What if the spawn objects button is NOT "o"?
			if( e.which == 79 )
			{
				didSpawnAll = true;
				spawnAll();
			}
		}, true);

		//document.body.querySelector(".mainButton").innerHTML = getParameterByName("max");

		function spawnAll()
		{
			var buttonElem = document.body.querySelector(".mainButton");
			var textElem = document.createElement("div");
			textElem.style.cssText = "width: 100%; font-family: Arial;"
			textElem.innerHTML = "<center><b>Please wait...</b></center>";
			buttonElem.parentNode.appendChild(textElem);
			buttonElem.parentNode.removeChild(buttonElem);

			var titleElem = document.body.querySelector("#contentTitle");
			titleElem.innerHTML = "Spawning <u>ALL</u> Objects";

			aaapi.system.setNearestObjectDist(99999999999.9);
		}

		aaapi.system.spawnNearestObject(parseFloat(getParameterByName("max")));

		// automatically spawn all if max is a huge number.
		if( parseFloat(getParameterByName("max")) == 99999999999.9 )
			spawnAll();

		</script>
	</body>
</html>