<html>
	<head>
		<link rel="stylesheet" type="text/css" href="asset://ui/hud.css"></link>
		<script src="asset://ui/hud.js"></script>
	</head>
	<body>
		<div class="hudContent" style="width: 20%; position: fixed; left: 0; right: 0; top: 50%; -webkit-transform: translate(0, -50%);">
			<div class="hudContentHeader">
				<div class="hudContentHeaderRow">
					<div class="hudContentHeaderCell">
						<div class="hudContentHeaderButton helpNote" style="display: block;" onclick="window.location='asset://ui/buildModeContext.html';" help="Go back to the previous menu.">
							&nbsp;<img src="asset://ui/backarrow.png" />&nbsp;
						</div>
					</div>
					<div class="hudContentHeaderCell">
						Object Info
					</div>
					<div class="hudContentHeaderCell">
						<div class="hudContentHeaderButton helpNote" onclick="aaapi.system.deactivateInputMode();" help="Close the menu.">&nbsp;<img src="asset://ui/xicon.png" />&nbsp;</div>
					</div>
				</div>
			</div>
<!--
			<div class="mainButton helpNote" onclick="window.location='asset://ui/importSteamGames.html';" help="Import your Steam games from your public Steam Community profile.">Import Steam Games</div>
			<div class="mainButton helpNote" onclick="window.location='asset://ui/importLegacyContent.html';" help="Were you an Early Access user?  Import your old stuff here.">Import Legacy Content</div>-->
			<!--
				<div class="mainButton disabledButton">Libretro</div>
				<div class="mainButton disabledButton">Steamworks Web Browser</div>
				<div class="mainButton disabledButton">Awesomium Web Browser</div>
			-->
			<!-- <div class="mainButton disabledButton">Purge</div> -->

		</div>

		<a href="javascript:location.reload();" class="devReload">&bull;&nbsp;</a>

		<script>
		// http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript
function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}

			var id = getParameterByName("id");

			var hudContent = document.querySelector(".hudContent");
			var workshopIds = "";
			var mountIds = "";
			var html = "<img id='marqueeImage' />";

			var info = aaapi.system.getObjectInfo(id);
			console.log(JSON.stringify(info.model));
			var objectInfo = info.object;
			var itemInfo = info.item;
			var modelInfo = info.model;
			//console.log(JSON.stringify(tester.model));

			// OBJECT STUFF
			/*
			html += "<div style='width: 100%; background-color: rgba(50, 50, 50, 0.5); font-weight: bold; font-family: Arial;'><div style=' padding: 10px;'>OBJECT</div></div>";
			html += "<div style='font-weight: bold; font-family: Arial;'><center>";
			console.log(objectInfo.slave);
			var slave = (objectInfo.slave == 1) ? "true" : "flase";
			html += "Scale: " + objectInfo.scale + "<br />";
			html += "Slave: <font style='text-transform: capitalize;'>" + slave + "</font><br />";
			html += "<br />";
			html += "</center></div>";
*/
			// ITEM STUFF
			if( !!itemInfo )
			{
				html += "<div style='width: 100%; background-color: rgba(50, 50, 50, 0.5); font-weight: bold; font-family: Arial;'><div style=' padding: 10px;'>ITEM</div></div>";
				html += "<div style='font-weight: bold; font-family: Arial;'><center>";
				if( !!itemInfo )
				{
					html += "Title: " + itemInfo.title + "<br />";
					//html += "Workshop: " + itemInfo.workshopIds + "<br />";
				}
				else
					html += "None<br />";
				html += "<br />";
				html += "</center></div>";
			}

			// MODEL STUFF
			html += "<div style='width: 100%; background-color: rgba(50, 50, 50, 0.5); font-weight: bold; font-family: Arial;'><div style=' padding: 10px;'>MODEL</div></div>";
			html += "<div style='font-weight: bold; font-family: Arial;'><center>";
			html += "Title: " + modelInfo.title + "<br />";
			//html += "File: " + modelInfo.file + "<br />";
			workshopIds = (modelInfo.workshopIds !== "") ? modelInfo.workshopIds : "None";
			if( workshopIds !== "None" )
				html += "Workshop: " + workshopIds + "<br />";
			mountIds = "None";
			if( modelInfo.mountIds !== "" )
				mountIds = (modelInfo.mountTitle !== "") ? modelInfo.mountTitle : modelInfo.mountIds;
			
			if( mountIds !== "None" )
				html += "Mount: " + mountIds + "<br />";

//			if( workshopIds === "None" && mountIds === "None" )
//				html += "From AArcade Folder: True"
				//html += "This model is in your AArcade folder."

			html += "<br />";
			html += "</center></div>";

			hudContent.innerHTML += html;

			// GRAB THE WHOLE ITEM TO MAKE THIS MENU FANCY!
			var item = aaapi.library.getLibraryItem(info.item.id);
			var marqueeImageElem = document.querySelector("#marqueeImage");
			marqueeImageElem.style.cssText = "max-width: 100%; max-height: 420px; margin-left: auto; margin-right: auto; display: block; display: none;";
			//marqueeImageElem.("itemMarquee");
			arcadeHud.loadItemMarqueeImage(marqueeImageElem, item);
			//hudContent.appendChild(marqueeImageElem);

			var button;

			button = document.createElement("div");
			button.className = "mainButton disabledButton";
			button.innerHTML = "Pack into Backpack";
			hudContent.appendChild(button);

			button = document.createElement("div");
			button.className = "mainButton";
			button.innerHTML = "Close";
			button.addEventListener("click", function()
			{
				aaapi.system.deactivateInputMode();
			});
			hudContent.appendChild(button);
		</script>

	</body>
</html>